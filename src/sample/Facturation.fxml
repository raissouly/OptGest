<?xml version="1.0" encoding="UTF-8"?>

<?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<AnchorPane prefHeight="489.0" prefWidth="994.0" stylesheets="@Facturation.css" xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1" fx:controller="sample.FacturationController">
    <children>
        <BorderPane prefHeight="584.0" prefWidth="1000.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
            <top>
                <VBox alignment="CENTER_LEFT" prefHeight="45.0" prefWidth="1000.0" styleClass="header-section">
                    <padding>
                        <Insets bottom="10.0" left="20.0" right="20.0" top="10.0" />
                    </padding>
                    <Label styleClass="header-title" text="Gestion de Facturation" />
                    <Label styleClass="header-subtitle" text="Module de gestion des factures et clients" />
                </VBox>
            </top>

            <center>
                <TabPane styleClass="main-tab-pane" tabClosingPolicy="UNAVAILABLE">
                    <Tab text="Factures">
                        <VBox prefHeight="600.0" prefWidth="1000.0" spacing="15.0" styleClass="tab-content-vbox">
                            <padding>
                                <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                            </padding>

                            <HBox alignment="CENTER_LEFT" spacing="10.0" styleClass="toolbar">
                                <Button fx:id="btnNouvelleFacture" onAction="#creerNouvelleFacture" text="Nouvelle Facture">
                                    <graphic><FontAwesomeIconView glyphName="PLUS" size="1.2em" /></graphic>
                                </Button>

                                <Button fx:id="btnModifierFacture" onAction="#modifierFacture" text="Modifier">
                                    <graphic><FontAwesomeIconView glyphName="PENCIL" size="1.2em" /></graphic>
                                </Button>
                                <Button fx:id="btnSupprimerFacture" onAction="#supprimerFacture" styleClass="destructive-button" text="Supprimer">
                                    <graphic><FontAwesomeIconView glyphName="TRASH" size="1.2em" /></graphic>
                                </Button>
                                <Separator orientation="VERTICAL" />
                                <Button fx:id="btnImprimerFacture" onAction="#imprimerFacture" text="Imprimer">
                                    <graphic><FontAwesomeIconView glyphName="PRINT" size="1.2em" /></graphic>
                                </Button>
                                <Button fx:id="btnExporterPDF" onAction="#exporterPDF" text="Export PDF">
                                    <graphic><FontAwesomeIconView glyphName="FILE_PDF_O" size="1.2em" /></graphic>
                                </Button>
                                <Region HBox.hgrow="ALWAYS" />
                                <TextField fx:id="txtRechercheFacture" promptText="Rechercher..." styleClass="search-field" />
                                <Button fx:id="btnRechercher" onAction="#rechercherFacture" text="Chercher">
                                    <graphic><FontAwesomeIconView glyphName="SEARCH" size="1.2em" /></graphic>
                                </Button>
                            </HBox>

                            <TableView fx:id="tableFactures" styleClass="data-table" VBox.vgrow="ALWAYS">
                                <columns>
                                    <TableColumn fx:id="colNumero" prefWidth="80.0" text="Numero" />
                                    <TableColumn fx:id="colDate" prefWidth="100.0" text="Date" />
                                    <TableColumn fx:id="colClient" prefWidth="180.0" text="Client" />
                                    <TableColumn fx:id="colMontantHT" prefWidth="100.0" text="HT" />
                                    <TableColumn fx:id="colTVA" prefWidth="70.0" text="TVA" />
                                    <TableColumn fx:id="colMontantTTC" prefWidth="100.0" text="TTC" />
                                    <TableColumn fx:id="colStatut" prefWidth="90.0" text="Statut" />
                                    <TableColumn fx:id="colDateEcheance" prefWidth="100.0" text="Echeance" />
                                </columns>
                            </TableView>

                            <HBox spacing="15.0" styleClass="info-panel">
                                <VBox spacing="5.0" HBox.hgrow="ALWAYS">
                                    <Label styleClass="section-title" text="Détails de la facture" />
                                    <Label fx:id="lblFactureInfo" styleClass="info-text" text="Sélectionnez une facture pour voir les détails" />
                                </VBox>
                            </HBox>
                        </VBox>
                    </Tab>

                    <Tab text="Clients">
                        <VBox spacing="15.0" styleClass="tab-content-vbox">
                            <padding>
                                <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                            </padding>

                            <HBox alignment="CENTER_LEFT" spacing="10.0" styleClass="toolbar">
                                <Button fx:id="btnNouveauClient" onAction="#creerNouveauClient" text="Nouveau Client">
                                    <graphic><FontAwesomeIconView glyphName="PLUS" size="1.2em" /></graphic>
                                </Button>
                                <Button fx:id="btnModifierClient" onAction="#modifierClient" text="Modifier">
                                    <graphic><FontAwesomeIconView glyphName="PENCIL" size="1.2em" /></graphic>
                                </Button>
                                <Button fx:id="btnSupprimerClient" onAction="#supprimerClient" styleClass="destructive-button" text="Supprimer">
                                    <graphic><FontAwesomeIconView glyphName="TRASH" size="1.2em" /></graphic>
                                </Button>
                                <Separator orientation="VERTICAL" />
                                <Region HBox.hgrow="ALWAYS" />
                                <TextField fx:id="txtRechercheClient" promptText="Rechercher..." styleClass="search-field" />
                                <Button fx:id="btnRechercherClient" onAction="#rechercherClient" text="Chercher">
                                    <graphic><FontAwesomeIconView glyphName="SEARCH" size="1.2em" /></graphic>
                                </Button>
                            </HBox>

                            <TableView fx:id="tableClients" styleClass="data-table" VBox.vgrow="ALWAYS">
                                <columns>
                                    <TableColumn fx:id="colClientNom" prefWidth="120.0" text="Nom" />
                                    <TableColumn fx:id="colClientPrenom" prefWidth="120.0" text="Prénom" />
                                    <TableColumn fx:id="colClientEmail" prefWidth="180.0" text="Email" />
                                    <TableColumn fx:id="colClientTelephone" prefWidth="120.0" text="Téléphone" />
                                    <TableColumn fx:id="colClientVille" prefWidth="100.0" text="Ville" />
                                </columns>
                            </TableView>

                            <HBox spacing="15.0" styleClass="info-panel">
                                <VBox spacing="5.0" HBox.hgrow="ALWAYS">
                                    <Label styleClass="section-title" text="Détails du client" />
                                    <Label fx:id="lblClientInfo" styleClass="info-text" text="Sélectionnez un client pour voir les détails" />
                                </VBox>
                            </HBox>
                        </VBox>
                    </Tab>
                </TabPane>
            </center>

            <bottom>
                <HBox alignment="CENTER_LEFT" prefHeight="40.0" prefWidth="1000.0" spacing="15.0" styleClass="footer-section">
                    <padding>
                        <Insets bottom="5.0" left="20.0" right="20.0" top="5.0" />
                    </padding>
                    <Label fx:id="lblStatusMessage" styleClass="status-message" text="Prêt" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Label fx:id="lblTotalFactures" styleClass="footer-stat" text="Total factures: 0" />
                    <Separator orientation="VERTICAL" />
                    <Label fx:id="lblFacturesPayeesFooter" styleClass="footer-stat" text="Payées: 0" />
                    <Separator orientation="VERTICAL" />
                    <Label fx:id="lblFacturesImpayeesFooter" styleClass="footer-stat" text="Impayées: 0" />
                    <Separator orientation="VERTICAL" />
                    <Label fx:id="lblCATotal" styleClass="footer-stat" text="CA total: 0.00 DH" />
                    <Separator orientation="VERTICAL" />
                    <Label fx:id="lblDerniereMAJ" styleClass="footer-stat" text="Dernière MAJ: --" />
                </HBox>
            </bottom>
        </BorderPane>
    </children>
</AnchorPane>
